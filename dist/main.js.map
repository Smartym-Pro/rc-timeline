{"mappings":"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","sources":["src/index.tsx","src/Calendar.tsx","src/context/store.tsx","src/layers/ConfigLayer.tsx","src/context/reducer.ts","src/utils/common.ts","src/components/TimeTable/TimeTable.tsx","src/common/constants.ts","src/components/TimeTable/EventsPanel/CalendarBodyMonths/CalendarBodyMonths.tsx","src/components/TimeTable/EventsPanel/EventsPanel.tsx","src/components/eventButton/EventButton.utils.ts","src/components/eventButton/EventButton.tsx","src/components/eventButton/utils/dragging.ts","src/components/buttonBase/ButtonBase.tsx","src/components/eventButton/eventNormal/EventNormal.tsx","src/components/eventButton/components/eventSummary/EventSummary.tsx","src/utils/stateReducer.ts","src/utils/sizes.ts","src/layers/DimensionsLayoutLayer.tsx"],"sourcesContent":["import {\n  CalendarEvent,\n  NewEventClickData,\n  OnEventClickFunc,\n  OnEventDragFinishFunc,\n  OnNewEventClickFunc,\n  OnDeleteEventFunc,\n} from './common/interface';\nimport Calendar from './Calendar';\nimport ConfigLayer from './layers/ConfigLayer';\nimport DimensionsLayoutLayer from './layers/DimensionsLayoutLayer';\nimport StoreProvider from './context/store';\nimport React from 'react';\nexport type { CalendarEvent };\nexport type OnEventClickData = CalendarEvent;\nexport type OnNewEventClickData = NewEventClickData;\nexport type OnEventDragFinish = OnEventDragFinishFunc;\n\nexport interface TimelineProps {\n  items?: CalendarEvent[];\n  onNewEventClick?: OnNewEventClickFunc;\n  onEventClick?: OnEventClickFunc;\n  onEventDragFinish?: OnEventDragFinishFunc;\n  onDeleteEvent?: OnDeleteEventFunc;\n  sortDirection?: 'ASC' | 'DESC'; \n}\n\n// use any as JSX was causing errors for some cases\nconst Timeline = (props: TimelineProps) => {\n  // basic validation\n  return (\n    <div className=\"Kalend__Calendar__root Kalend__main\">\n      <StoreProvider {...props}>\n        <ConfigLayer {...props}>\n          <DimensionsLayoutLayer>\n            <Calendar items={props.items as CalendarEvent[]} />\n          </DimensionsLayoutLayer>\n        </ConfigLayer>\n      </StoreProvider>\n    </div>\n  );\n};\n\nexport default Timeline;\n","import React, { useContext, useCallback } from 'react';\nimport { Context } from '../src/context/store';\nimport TimeTable from './components/TimeTable/TimeTable';\nimport { getComponentsSizes } from '../src/utils/sizes';\nimport { CalendarEvent } from '../src/common/interface';\n\nconst Calendar = (props: { items: CalendarEvent[] }) => {\n  const [store, dispatch] = useContext(Context);\n  const changeMonth = useCallback(\n    (type: 'startStep' | 'finishStep', payload) => {\n      dispatch({\n        type: store.isAsc ? type : type === 'finishStep' ? 'startStep' : 'finishStep',\n        payload: store.isAsc ? payload : -1 * payload,\n      });\n    },\n    [store.isAsc],\n  );\n  return (\n    <div style={{ height: '100%', position: 'relative' }}>\n      <div style={{ display: 'flex', paddingBottom: 5, paddingLeft: 30 }}>\n        <div style={{ display: 'flex' }}>\n          <button onClick={() => dispatch({ type: 'isAsc' })}>{store.isAsc ? <span>&#8595;</span> : <span>&#8593;</span>}</button>\n        </div>\n        <div style={{ display: 'flex' }}>\n          <button onClick={() => changeMonth('startStep', -6)}>+</button>\n          <button onClick={() => changeMonth('startStep', 6)}>-</button>\n        </div>\n        <div style={{ display: 'flex', paddingLeft: '30px' }}>\n          <button onClick={() => dispatch({ type: 'scaleCoeff', payload: -1 })}>+</button>\n          <button onClick={() => dispatch({ type: 'scaleCoeff', payload: 1 })}>-</button>\n          {store.scaleCoeff}\n        </div>\n      </div>\n\n      <div style={{ position: 'relative', height: store.height }}>\n        <TimeTable\n          events={props.items ? getComponentsSizes(props.items, store.startStep, store.scaleCoeff, store.isAsc, store.height) : []}\n        />\n      </div>\n      <div style={{ display: 'flex', paddingTop: 5, paddingLeft: 30 }}>\n        <button onClick={() => changeMonth('finishStep', 6)}>+</button>\n        <button onClick={() => changeMonth('finishStep', -6)}>-</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Calendar;\n","import { Callbacks } from '../common/interface';\nimport { createCallbacks } from '../layers/ConfigLayer';\nimport { createContext, useReducer } from 'react';\nimport { getHeight } from './reducer';\nimport Reducer from './reducer';\nimport React from 'react';\nexport interface Store {\n  startStep: number;\n  finishStep: number;\n  scaleCoeff: number;\n  width: number;\n  height: number;\n  style: any;\n  callbacks: Callbacks;\n  isAsc: boolean;\n}\n\nexport const Context: any = createContext({});\n\nconst START_MONTH = -24;\nconst END_MONTH = 0;\nconst SCALE_COEFF = 1;\n\nconst StoreProvider = ({ children, ...props }) => {\n  const initialContext: Store = {\n    startStep: START_MONTH,\n    finishStep: END_MONTH,\n    scaleCoeff: SCALE_COEFF,\n    width: 0,\n    height: getHeight(START_MONTH, END_MONTH, SCALE_COEFF),\n    callbacks: createCallbacks({}),\n    isAsc: true,\n    style: {\n      primaryColor: '#ec407a',\n      baseColor: '#424242FF',\n      inverseBaseColor: '#E5E5E5FF',\n    },\n  };\n\n  const [store, dispatch] = useReducer(Reducer, initialContext);\n\n  return <Context.Provider value={[store, dispatch]}>{children}</Context.Provider>;\n};\n\nexport default StoreProvider;\n","import { Callbacks } from '../common/interface';\nimport { Context } from '../context/store';\nimport { TimelineProps } from '../index';\nimport { useContext, useEffect, useState } from 'react';\nimport React from 'react';\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst emptyFunction = () => {};\nexport const createCallbacks = (props: TimelineProps): Callbacks => {\n  return {\n    onEventDragFinish: props.onEventDragFinish || undefined,\n    onEventClick: props.onEventClick || emptyFunction,\n    onNewEventClick: props.onNewEventClick || emptyFunction,\n    onDeleteClick: props.onDeleteEvent || emptyFunction,\n  };\n};\n\nconst ConfigLayer = (props: TimelineProps & { children: JSX.Element }) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload: any) => {\n    dispatch({ type, payload });\n  };\n\n  const initFromProps = () => {\n    const callbacks = createCallbacks(props);\n    setContext('callbacks', callbacks);\n    setContext('isAsc', props.sortDirection === 'ASC' ? true : false);\n  };\n\n  useEffect(() => {\n    initFromProps();\n  }, []);\n\n  useEffect(() => {\n    initFromProps();\n  }, []);\n\n  return props.children;\n};\n\nexport default ConfigLayer;\n","// tslint:disable-next-line:cyclomatic-complexity\nimport { Store } from './store';\nimport { createVerticalMonths } from '../../src/utils/common';\nimport StateReducer from '../utils/stateReducer';\n\nexport const getHeight = (start: number, finish: number, scaleCoeff: number) => {\n  const verticalMonths = createVerticalMonths(start, finish, scaleCoeff);\n  if (!verticalMonths.length) {\n    return 0;\n  }\n  return verticalMonths[verticalMonths.length - 1].offset + verticalMonths[verticalMonths.length - 1].monthHeight;\n};\nconst Reducer = (state: Store, action) => {\n  switch (action.type) {\n    case 'finishStep':\n      const nextFinishStep = state.finishStep + action.payload;\n      return { ...state, finishStep: nextFinishStep, height: getHeight(state.startStep, nextFinishStep, state.scaleCoeff) };\n    case 'startStep':\n      const nextStartStep = state.startStep + action.payload;\n      return { ...state, startStep: nextStartStep, height: getHeight(nextStartStep, state.finishStep, state.scaleCoeff) };\n    case 'scaleCoeff':\n      //const oldCoeff = state.scaleCoeff;\n      const scaleCoeff = action.payload > 0 ? state.scaleCoeff / 2 : state.scaleCoeff * 2;\n      //const coeffChange = oldCoeff / scaleCoeff;\n      //const startStep = Math.ceil(state.startStep * coeffChange);\n      //const finishStep = Math.ceil(state.finishStep * coeffChange);\n      return { ...state, scaleCoeff, height: getHeight(state.startStep, state.finishStep, scaleCoeff) };\n    case 'style':\n      return {\n        ...state,\n        style: action.payload,\n      };\n    case 'events':\n      return {\n        ...state,\n        events: action.payload,\n      };\n    case 'width':\n      return {\n        ...state,\n        width: action.payload,\n      };\n    case 'height':\n      return {\n        ...state,\n        height: action.payload,\n      };\n    case 'callbacks':\n      return {\n        ...state,\n        callbacks: action.payload,\n      };\n    case 'isAsc':\n      return {\n        ...state,\n        isAsc: action.payload != null ? action.payload : !state.isAsc,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default Reducer;\n","import { DateTime } from 'luxon';\n\nexport interface VerticalMonths {\n  label: string;\n  offset: number;\n  monthHeight: number;\n}\n\nexport const createVerticalMonths = (start: number, finish: number, scaleCoeff = 1): VerticalMonths[] => {\n  const monthResult: any = [];\n  let offset = 0;\n  for (let i = start; i <= finish; i++) {\n    const resultDate = DateTime.local().plus({ months: i });\n    const monthHeight = resultDate.daysInMonth * scaleCoeff;\n    monthResult.push({\n      label: `${resultDate.year} ${resultDate.monthShort}`,\n      offset,\n      monthHeight,\n    });\n    offset += monthHeight;\n  }\n\n  return monthResult;\n};\n","import { CALENDAR_OFFSET_LEFT } from '../../common/constants';\nimport CalendarBodyMonths from './EventsPanel/CalendarBodyMonths/CalendarBodyMonths';\nimport EventsPanel from './EventsPanel/EventsPanel';\nimport { EventState } from '../../common/interface';\nimport React from 'react';\n\nconst TimeTable = (props: { events: EventState[] }) => {\n  const style = {\n    paddingLeft: CALENDAR_OFFSET_LEFT,\n    height: '100%',\n  };\n\n  return (\n    <div\n      style={style}\n      className=\"Kalend__Calendar__table Kalend__CalendarBody\"\n      id=\"Kalend__timetable\"\n      // onScroll={handleScroll}\n    >\n      <CalendarBodyMonths />\n      <EventsPanel data={props.events} />\n    </div>\n  );\n};\n\nexport default TimeTable;\n","export const EVENT_MIN_HEIGHT = 25;\nexport const CALENDAR_OFFSET_LEFT = 90;\n","import { CALENDAR_OFFSET_LEFT } from '../../../../common/constants';\nimport { Context } from '../../../../context/store';\nimport { createVerticalMonths } from '../../../../utils/common';\nimport { useContext } from 'react';\nimport React from 'react';\n\nconst renderHours = (width: number, startStep: number, finishStep: number, scaleCoeff: number, isAsc: boolean) => {\n  const verticalHours = createVerticalMonths(startStep, finishStep, scaleCoeff);\n  const yearOffsets = verticalHours.reduce((res, item) => {\n    const [key] = item.label.split(' ');\n    return { ...res, [key]: item.offset };\n  }, {});\n  const yearOffsetsEntries: any = Object.entries(yearOffsets);\n  const yearHeights = yearOffsetsEntries.reduce((res, [year, offset], index) => {\n    const style = {\n      [isAsc ? 'top' : 'bottom']: index === 0 ? (isAsc ? 0 : offset) : yearOffsetsEntries[index - 1][1],\n      height: index === 0 ? offset : offset - yearOffsetsEntries[index - 1][1],\n      left: 0,\n      display: 'flex',\n      alignItems: 'center',\n    };\n    return { ...res, [year]: { style } };\n  }, {});\n  const years = Object.entries(yearHeights).map(([year, item], index) => (\n    <div style={(item as any).style} className=\"Kalend__text Kalend__calendarBodyMonths__text\">\n      {year}\n    </div>\n  ));\n  const months = verticalHours.map(({ label, offset, monthHeight }) => {\n    return (\n      <div\n        key={label}\n        className={'Kalend__calendarBodyMonths__container'}\n        style={{ minHeight: monthHeight, [isAsc ? 'top' : 'bottom']: offset, position: 'absolute' }}\n      >\n        <p\n          className=\"Kalend__text Kalend__calendarBodyMonths__text\"\n          style={{\n            [isAsc ? 'top' : 'bottom']: -4,\n            left: 30,\n          }}\n        >\n          {scaleCoeff >= 0.25 && label.split(' ')[1]}\n        </p>\n        <div\n          className=\"Kalend__text Kalend__calendarBodyMonths__line\"\n          style={{ [isAsc ? 'top' : 'bottom']: 0, width: width - CALENDAR_OFFSET_LEFT }}\n        />\n      </div>\n    );\n  });\n  return (\n    <>\n      {years}\n      {months}\n    </>\n  );\n};\n\nconst CalendarBodyMonths = () => {\n  const [store] = useContext(Context);\n  const { width, startStep, finishStep, height, scaleCoeff, isAsc } = store;\n  const hours: any = renderHours(width, startStep, finishStep, scaleCoeff, isAsc);\n\n  return (\n    <div className=\"Kalend__calendarBodyMonths__wrapper\" style={{ height, width: 90 }}>\n      {hours}\n    </div>\n  );\n};\n\nexport default CalendarBodyMonths;\n","import { CalendarEvent } from '../../../common/interface';\nimport { Context } from '../../../context/store';\nimport { DateTime } from 'luxon';\nimport { disableTouchDragging } from '../../eventButton/EventButton.utils';\nimport { createVerticalMonths } from '../../../utils/common';\nimport { useContext, useRef, useState } from 'react';\n//import CurrentHourLine from '../../currentHourLine/CurrentHourLine';\nimport EventButton from '../../eventButton/EventButton';\nimport { getDateFromPosition } from '../../../utils/sizes';\nimport React from 'react';\nimport { EventState } from '../../../common/interface';\n\nconst renderEvents = (dataset: EventState[]) => {\n  return dataset.map((eventRaw: EventState) => {\n    const item: CalendarEvent = eventRaw;\n    return <EventButton key={item.id} item={eventRaw} />;\n  });\n};\n\nexport const HOUR_DIVIDER = 4;\n\ninterface EventsPanelProps {\n  data: EventState[];\n}\nconst EventsPanel = (props: EventsPanelProps) => {\n  const { data } = props;\n  const [store] = useContext(Context);\n  const { width, callbacks, isAsc } = store;\n  const { onNewEventClick } = callbacks;\n\n  const [offsetTop, setOffsetTop] = useState<any>(null);\n  const [offsetTopEnd, setOffsetTopEnd] = useState<any>(null);\n  const startAt: DateTime = useRef(null);\n  const endAt: DateTime = useRef(null);\n  const [startAtState, setStartAt] = useState<DateTime | null>(null);\n  const [endAtState, setEndAt] = useState<DateTime | null>(null);\n\n  // const [isDraggingNewEvent, setIsDraggingNewEvent] = useState(false);\n  const newEventStartOffset = useRef(null as null | number);\n  const newEventEndOffset = useRef(null as null | number);\n  const startAtRef = useRef(null);\n  const isDraggingRef = useRef(false);\n  const isUpdating = useRef(false);\n\n  const style: any = {\n    position: 'absolute',\n    top: offsetTop,\n    height: offsetTopEnd - offsetTop,\n    background: store.style.primaryColor,\n    width: '100%',\n    zIndex: 9,\n    borderRadius: 8,\n    opacity: 0.8,\n  };\n\n  const onMove = (e) => {\n    isDraggingRef.current = true;\n    // setIsDraggingNewEvent(true);\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    // Get column element for day, where event is placed\n    const drawPanelElement: Element | null = document.getElementById(`Kalend__draw-panel`);\n    if (!drawPanelElement) {\n      return;\n    }\n    const touches: any = e.nativeEvent?.touches?.[0];\n    const drawPanelElementRect = drawPanelElement.getBoundingClientRect();\n\n    let y: number;\n    // handle touch movement\n    if (touches) {\n      y = touches.clientY - drawPanelElementRect.top;\n    } else {\n      // handle mouse movement\n      y = e.clientY - drawPanelElementRect.top;\n    }\n\n    // initial dragging\n    if (newEventStartOffset.current === null) {\n      setOffsetTop(y);\n      const startAtValue = getDateFromPosition(y / store.scaleCoeff, store);\n      startAtRef.current = startAtValue;\n      startAt.current = startAtValue;\n      setStartAt(startAtValue);\n\n      setOffsetTop(y);\n      setOffsetTopEnd(y);\n      newEventStartOffset.current = y;\n      newEventEndOffset.current = y;\n\n      startAtRef.current = startAtValue;\n      endAt.current = startAtValue;\n      setEndAt(startAtValue);\n\n      return;\n    }\n\n    // handle dragging up\n    if (newEventStartOffset.current && y < newEventStartOffset.current) {\n      setOffsetTop(y);\n      const startAtValue = getDateFromPosition(y / store.scaleCoeff, store);\n\n      startAtRef.current = startAtValue;\n      startAt.current = startAtValue;\n      setStartAt(startAtValue);\n      return;\n    }\n\n    // handle dragging down\n    setOffsetTopEnd(y);\n\n    const endAtValue = getDateFromPosition(y / store.scaleCoeff, store);\n    endAt.current = endAtValue;\n    setEndAt(endAtValue);\n  };\n\n  /**\n   * Cancel dragging event\n   * remove listeners clean long click timeout and reset state\n   * @param event\n   */\n  const onMouseUp = (event) => {\n    event.stopPropagation();\n    event.preventDefault();\n\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp, true);\n    document.removeEventListener('mousemove', onMove, true);\n\n    const targetClass = event.target.className;\n\n    // prevent propagating when clicking on event due to listeners\n    if (targetClass.indexOf('Kalend__Event') !== -1) {\n      return;\n    }\n\n    if (!isDraggingRef.current) {\n      // handleEventClickInternal(event);\n      return;\n    }\n\n    if (isUpdating.current) {\n      return;\n    }\n\n    if (onNewEventClick && isDraggingRef.current) {\n      isUpdating.current = true;\n\n      if (!startAt?.current?.toUTC()?.toString()) {\n        isDraggingRef.current = false;\n        isUpdating.current = false;\n        return;\n      }\n\n      isDraggingRef.current = false;\n      newEventStartOffset.current = null;\n      const chages = store.isAsc\n        ? {\n            startAt: startAt.current?.startOf('month').toISO(),\n            endAt: endAt.current?.startOf('month').toISO(),\n          }\n        : {\n            endAt: startAt.current?.startOf('month').toISO(),\n            startAt: endAt.current?.startOf('month').toISO(),\n          };\n\n      onNewEventClick(\n        {\n          event,\n          ...chages,\n        },\n        event,\n      );\n    }\n\n    isDraggingRef.current = false;\n    isUpdating.current = false;\n  };\n\n  /**\n   * Start event dragging on long press/touch\n   * Set listeners\n   * @param e\n   */\n  const onMouseDownLong = (e: MouseEvent) => {\n    if (disableTouchDragging(e)) {\n      return;\n    }\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp, true);\n  };\n\n  /**\n   * Initial long press click/touch on event\n   * @param e\n   */\n  const onMouseDown = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // if (isDraggingRef.current) {\n    //   onMouseUp(e);\n    //   return;\n    // }\n\n    onMouseDownLong(e as any);\n  };\n\n  const verticalMonths = createVerticalMonths(store.startStep, store.finishStep, store.scaleCoeff);\n  const panelStyle = {\n    width: width,\n    height: verticalMonths.length\n      ? verticalMonths[verticalMonths.length - 1].offset + verticalMonths[verticalMonths.length - 1].monthHeight\n      : 0,\n    overflow: 'hidden',\n  };\n\n  const dataForDrawPanel: any = data;\n  /*const nowPosition: number =\n    dateNow.diff(DateTime.local().set({ hour: 0, minute: 0, second: 0 }), 'minutes').toObject().minutes / (60 / hourHeight);*/\n\n  const handleCloseNewEventDrag = (e?) => {\n    if (e) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    setOffsetTopEnd(null);\n    setOffsetTop(null);\n    // setIsDraggingNewEvent(false);\n    isDraggingRef.current = false;\n    newEventStartOffset.current = null;\n    newEventEndOffset.current = null;\n    startAt.current = null;\n    endAt.current = null;\n    setStartAt(null);\n    setEndAt(null);\n\n    isUpdating.current = false;\n  };\n\n  return (\n    <div id=\"Kalend__draw-panel\" style={panelStyle} onMouseDown={onMouseDown} onMouseUp={onMouseUp} className=\"Kalend__draw-panel\">\n      {/*<CurrentHourLine />*/}\n      {dataForDrawPanel && dataForDrawPanel.length > 0 ? renderEvents(dataForDrawPanel) : null}\n\n      {isDraggingRef.current ? (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            background: 'transparent',\n            position: 'fixed',\n            top: 0,\n            left: 0,\n            zIndex: 8,\n          }}\n          onClick={handleCloseNewEventDrag}\n        />\n      ) : null}\n      {isDraggingRef.current ? (\n        <div style={style}>\n          <div\n            style={{\n              paddingTop: 4,\n              paddingLeft: 4,\n              fontSize: 12,\n            }}\n          >\n            <p style={{ color: 'white' }}>Project</p>\n            <p style={{ color: 'white' }}>\n              {startAtState ? startAtState.year + ':' + startAtState.monthShort : ''} -{' '}\n              {endAtState ? endAtState.year + ':' + endAtState.monthShort : ''}\n            </p>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default EventsPanel;\n","export interface EventButtonInitialState {\n  dragging: boolean;\n  initialTop: number;\n  initialLeft: number;\n  offsetTop: number | null;\n  offsetLeft: number | null;\n  eventHasChanged: boolean;\n  width: number | null;\n  height: number | null;\n  zIndex: number;\n  border: string;\n  isDragging: boolean;\n  endAt: string | undefined;\n}\n\nexport const eventButtonInitialState: EventButtonInitialState = {\n  dragging: false,\n  initialTop: 0,\n  initialLeft: 0,\n  offsetTop: null,\n  offsetLeft: null,\n  eventHasChanged: false,\n  width: null,\n  height: null,\n  zIndex: 2,\n  border: '',\n  isDragging: false,\n  endAt: undefined,\n};\n\nexport const disableTouchDragging = (e: any): boolean => {\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  return !!touches;\n};\n","import { useContext, useEffect, useReducer, useRef } from 'react';\nimport React from 'react';\nimport { EventStyle, CalendarEvent, EventState } from '../../common/interface';\nimport { Context, Store } from '../../context/store';\nimport { onMoveNormalEvent, onResizeNormalEvent } from './utils/dragging';\nimport { disableTouchDragging, eventButtonInitialState } from './EventButton.utils';\nimport ButtonBase from '../buttonBase/ButtonBase';\nimport EventNormal from './eventNormal/EventNormal';\nimport stateReducer from '../../utils/stateReducer';\nimport { getDateFromPosition } from '../../utils/sizes';\n\n// ref to cancel timout\nlet timeoutRef: any;\n\nconst EventButton = (props: { item: EventState }) => {\n  const { item } = props;\n  //const event = item;\n\n  const [state, dispatchState]: any = useReducer(stateReducer, eventButtonInitialState);\n\n  const setState = (stateName: string, data: number | string | boolean): void => {\n    const payload = { stateName, data };\n    dispatchState({ state, payload });\n  };\n\n  // store values as refs to access them in event listener\n  const offsetTopRef = useRef(state.offsetTop);\n  const draggingRef = useRef(false);\n  const isResizing = useRef(false);\n  const eventWasChangedRef = useRef(false);\n  const endAtRef = useRef(null);\n\n  const [store] = useContext(Context);\n\n  const { width, callbacks } = store as Store;\n\n  const { onEventClick, onEventDragFinish, onDeleteClick } = callbacks;\n\n  const columnWidth: number = width;\n\n  const style: EventStyle = {\n    position: 'absolute',\n    height: state.height !== null ? state.height : item.height,\n    width: state.width !== null ? state.width : item.width || '100%',\n    top: state.offsetTop !== null ? state.offsetTop : item.offsetTop,\n    left: state.offsetLeft !== null ? state.offsetLeft : item.offsetLeft,\n    zIndex: state.zIndex || item.zIndex,\n    border: 'solid 1px #1d1f26',\n    // border: state.zIndex > 2 ? `solid 1px white` : `solid 1px ${eventColor}`,\n    backgroundColor: 'indigo',\n    visibility: 'visible',\n    color: 'white',\n    // alignItems: meta?.centerText ? 'center' : 'inherit',\n  };\n\n  const handleEventClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    if (draggingRef.current) {\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      draggingRef.current = false;\n      return;\n    }\n    if (onEventClick) {\n      onEventClick(item, e);\n    }\n  };\n\n  const setLayout = (layout: EventState) => {\n    setState('initialTop', layout.offsetTop);\n    setState('initialLeft', layout.offsetLeft);\n    setState('offsetTop', layout.offsetTop);\n    setState('offsetLeft', layout.offsetLeft);\n    setState('startAt', layout.startAt);\n    setState('width', layout.width);\n    setState('height', layout.height);\n  };\n\n  useEffect(() => {\n    setLayout(item);\n  }, [item]);\n\n  const initMove = () => {\n    if (!draggingRef.current) {\n      draggingRef.current = true;\n    }\n\n    setState('width', '100%');\n    setState('offsetLeft', 0);\n  };\n\n  const onResize = (e: MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    isResizing.current = true;\n\n    onResizeNormalEvent(e, endAtRef, state.offsetTop, store.startStep, setState);\n  };\n\n  const onMove = (e: MouseEvent) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (disableTouchDragging(e)) {\n      return;\n    }\n\n    onMoveNormalEvent(e, draggingRef, eventWasChangedRef, offsetTopRef, setState);\n  };\n\n  const onMouseUpResize = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUpResize as any, true);\n    document.removeEventListener('mousemove', onResize, true);\n\n    // add data to callback\n    if (onEventDragFinish) {\n      const nextEndAt = endAtRef.current ? getDateFromPosition(endAtRef.current / store.scaleCoeff, store) : null;\n\n      const changes = store.isAsc\n        ? {\n            startAt: item.startAt.startOf('month').toISO(),\n            endAt: nextEndAt.endOf('month').toISO() || item.endAt.endOf('month').toISO(),\n          }\n        : {\n            startAt: nextEndAt.startOf('month').toISO() || item.startAt().startOf('month').toISO(),\n            endAt: item.endAt.startOf('month').toISO(),\n          };\n      const updatedEvent = {\n        ...item,\n        ...changes,\n      };\n      onEventDragFinish(updatedEvent);\n    }\n\n    endAtRef.current = null;\n    isResizing.current = false;\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  /**\n   * Cancel dragging event\n   * remove listeners clean long click timeout and reset state\n   * @param e\n   */\n  const onMouseUp = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    // clean listeners\n    document.removeEventListener('mouseup', onMouseUp as any, true);\n    document.removeEventListener('mousemove', onMove, true);\n\n    // clear timeout\n    clearTimeout(timeoutRef);\n\n    if (!eventWasChangedRef.current) {\n      setState('offsetLeft', state.offsetLeft);\n      setState('width', state.width);\n      setState('isDragging', false);\n      draggingRef.current = false;\n\n      return;\n    }\n\n    eventWasChangedRef.current = false;\n\n    if (!draggingRef.current) {\n      return;\n    }\n\n    setTimeout(() => {\n      draggingRef.current = false;\n      setState('isDragging', false);\n    }, 100);\n\n    // add data to callback\n    if (onEventDragFinish) {\n      let newEvent: CalendarEvent | null = null;\n      const offsetY = store.isAsc ? offsetTopRef.current : store.height - offsetTopRef.current;\n      const elOffset = store.isAsc ? item.offsetTop : store.height - item.offsetTop;\n      const dayDelta = (offsetY - elOffset) / store.scaleCoeff;\n      console.log(dayDelta, offsetY, item.offsetTop);\n      const newStartAt = item.startAt.plus({ day: dayDelta }).startOf('month');\n      const monthDelta = newStartAt.diff(item.startAt, ['month']).months;\n      const newEndAt = item.endAt.plus({ month: monthDelta }).endOf('month');\n      newEvent = {\n        ...item,\n        startAt: newStartAt.toISO(),\n        endAt: newEndAt.toISO(),\n      };\n\n      if (newEvent) {\n        onEventDragFinish(newEvent);\n      }\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n  };\n\n  const onMouseDownResize = (e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (disableTouchDragging(e as any) || !onEventDragFinish) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    isResizing.current = true;\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onResize, true);\n    document.addEventListener('mouseup', onMouseUpResize as any, true);\n  };\n\n  const onMouseDownLong = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    if (disableTouchDragging(e as any)) {\n      return;\n    }\n\n    setState('isDragging', true);\n    draggingRef.current = true;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (e.button !== 0) return;\n    document.addEventListener('mousemove', onMove, true);\n    document.addEventListener('mouseup', onMouseUp as any, true);\n\n    // set temp state while dragging\n    initMove();\n  };\n\n  /**\n   * Initial long press click/touch on event\n   * @param e\n   */\n  const onMouseDown = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (isResizing.current) {\n      return;\n    }\n\n    // add timeout to differentiate from normal clicks\n    timeoutRef = setTimeout(() => {\n      onMouseDownLong(e);\n    }, 120);\n  };\n\n  return (\n    <ButtonBase\n      id={item.id}\n      style={style}\n      className={`Kalend__Event-normal ${state.isDragging ? 'Kalend__EventButton__elevation' : ''}`}\n      onClick={handleEventClick}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n    >\n      <button\n        onClick={(e) => {\n          e.stopPropagation();\n          if (onDeleteClick) {\n            onDeleteClick(item.id);\n          }\n        }}\n      >\n        &times;\n      </button>\n      <EventNormal event={item} />\n      {isResizing.current ? (\n        <div\n          className={'Kalend__EventButton__resizing_wrapper'}\n          onClick={() => {\n            isResizing.current = false;\n          }}\n        />\n      ) : null}\n      <div\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          height: 5,\n          width: '100%',\n          background: 'transparent',\n          zIndex: isResizing.current ? 999 : 9,\n          cursor: 'n-resize',\n        }}\n        onClick={(e: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n          e.preventDefault();\n          e.stopPropagation();\n          isResizing.current = true;\n        }}\n        onMouseDown={onMouseDownResize}\n        onMouseUp={onMouseUpResize}\n      />\n    </ButtonBase>\n  );\n};\n\nexport default EventButton;\n","export const onMoveNormalEvent = (e, draggingRef, eventWasChangedRef, offsetTopRef, setState: (key: string, value: number) => void) => {\n  if (!draggingRef.current) {\n    return;\n  }\n\n  // Get column element for day, where event is placed\n  const drawPanelElement: Element | null = document.getElementById(`Kalend__draw-panel`);\n  if (!drawPanelElement) {\n    return;\n  }\n  const drawPanelElementRect = drawPanelElement.getBoundingClientRect();\n\n  const touches = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    y = touches.clientY - drawPanelElementRect.top;\n  } else {\n    // handle mouse movement\n    // calculate x and y coordinates while following mouse move\n    y = e.clientY - drawPanelElementRect.top;\n  }\n  // restrict draggable space for timetable\n  if (y < 0) {\n    return;\n  }\n\n  eventWasChangedRef.current = true;\n  setState('offsetTop', y);\n  offsetTopRef.current = y;\n};\n\nexport const onResizeNormalEvent = (e, endAtRef, offsetTop: number, startStep: number, setState: (key: string, value: number) => void) => {\n  // Get column element for day, where event is placed\n  const drawPanelElement = document.getElementById(`Kalend__draw-panel`);\n  if (!drawPanelElement) {\n    return;\n  }\n  const drawPanelElementRect = drawPanelElement.getBoundingClientRect();\n\n  const touches: any = e.nativeEvent?.touches?.[0];\n\n  // set basic coordinates from movement\n  let y: number;\n\n  // handle touch movement\n  if (touches) {\n    y = touches.clientY - drawPanelElementRect.top;\n  } else {\n    // handle mouse movement\n    y = e.clientY - drawPanelElementRect.top;\n  }\n\n  // restrict draggable space for timetable\n  if (y <= 0) {\n    return;\n  }\n\n  setState('height', Math.round(y - offsetTop));\n  endAtRef.current = y;\n};\n","import { ReactNode, useRef, SyntheticEvent } from 'react';\nimport React from 'react';\nimport { EventStyle } from '../../common/interface';\n\nexport interface ButtonBaseProps {\n  onClick?: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  className?: string;\n  children?: ReactNode;\n  style?: EventStyle;\n  id?: string;\n  onMouseDown?: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n  onMouseUp?: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => void;\n}\n\nconst ButtonBase = (props: ButtonBaseProps) => {\n  const { id, onClick, className, style, children, onMouseDown, onMouseUp } = props;\n\n  const buttonRef = useRef(null);\n\n  const onButtonClick = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\n    if (onClick) {\n      onClick(e);\n    }\n  };\n\n  const buttonClassName: string = `Kalend__button ${className} Kalend__ButtonBase`;\n\n  return (\n    <button\n      id={id}\n      ref={buttonRef}\n      onClick={onButtonClick}\n      onMouseDown={onMouseDown}\n      onMouseUp={onMouseUp}\n      className={buttonClassName}\n      style={style}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport default ButtonBase;\n","import { CalendarEvent } from '../../../common/interface';\nimport EventSummary from '../components/eventSummary/EventSummary';\nimport React from 'react';\ninterface EventNormalProps {\n  event: CalendarEvent;\n}\n\nconst EventNormal = (props: EventNormalProps) => {\n  const { event } = props;\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        flexDirection: 'column',\n        maxWidth: '-webkit-fill-available',\n      }}\n    >\n      <EventSummary summary={event.summary} />\n    </div>\n  );\n};\n\nexport default EventNormal;\n","interface EventSummaryProps {\n  summary?: string;\n}\n\nconst EventSummary = (props: EventSummaryProps) => {\n  const { summary } = props;\n\n  return <p className=\"Kalend__text Kalend__Event__summary Kalend__text-light\" dangerouslySetInnerHTML={{ __html: summary || '' }}></p>;\n};\n\nexport default EventSummary;\n","import { EventButtonInitialState } from '../components/eventButton/EventButton.utils';\nconst StateReducer = (state: EventButtonInitialState, action): EventButtonInitialState => {\n  // Replace whole state\n  if (!action.payload) {\n    return { ...state, ...action };\n  }\n\n  const { stateName, type, data } = action.payload;\n\n  switch (type) {\n    default:\n      return {\n        ...state,\n        [stateName]: data,\n      };\n  }\n};\n\nexport default StateReducer;\n","import { DateTime } from 'luxon';\nimport { CalendarEvent } from '../common/interface';\n\nconst findIntersectedTop = (sizes, offsetTop, i) => {\n  return sizes\n    .filter((size, index) => index < i && size.offsetTop <= offsetTop && size.offsetTop + size.height > offsetTop)\n    .sort((a, b) => a.offsetTop - b.offsetTop);\n};\n\nconst findNonIntersectedOnPreviousLine = (sizes, offsetTop, previous) => {\n  let onPrevousLine = sizes\n    .filter((size) => size.offsetTop + size.height <= offsetTop)\n    .sort((a, b) => parseInt(a.offsetLeft) - parseInt(b.offsetLeft));\n  return previous.offsetTop + previous.height < offsetTop ? [...onPrevousLine, previous] : onPrevousLine;\n};\n\nconst getLeftAndHeight = (sizesWithTop) => {\n  let sizes = [...sizesWithTop].sort((a, b) => a.offsetTop - b.offsetTop);\n  sizes.forEach((size, i) => {\n    const intersectedWithYou = findIntersectedTop(sizes, size.offsetTop, i);\n    if (!i || !intersectedWithYou.length) {\n      return;\n    } else {\n      if (intersectedWithYou && intersectedWithYou[intersectedWithYou.length - 1].width === '100%') {\n        const newLength = 100 / (intersectedWithYou.length + 1);\n        let sizesToReplace = intersectedWithYou.map((item, i) => ({\n          ...item,\n          width: `${newLength}%`,\n          offsetLeft: `${i * newLength}%`,\n        }));\n        sizesToReplace = [...sizesToReplace, { ...size, offsetLeft: `${intersectedWithYou.length * newLength}%`, width: `${newLength}%` }];\n        sizes = sizes.map((size) => {\n          const replacedSize = sizesToReplace.find((sizeToReplace) => sizeToReplace.id === size.id);\n          return replacedSize || size;\n        });\n      } else if (intersectedWithYou && intersectedWithYou[intersectedWithYou.length - 1].width !== '100%') {\n        const intersectedWithPrevious = findIntersectedTop(sizes, sizes[i - 1].offsetTop, i);\n        const nonIntersectedOnPreviousLine = findNonIntersectedOnPreviousLine(intersectedWithPrevious, size.offsetTop, sizes[i - 1]);\n        if (nonIntersectedOnPreviousLine?.length) {\n          sizes[i] = {\n            ...sizes[i],\n            offsetLeft: nonIntersectedOnPreviousLine[0].offsetLeft,\n            width: nonIntersectedOnPreviousLine[0].width,\n          };\n        } else {\n          let fullIntersected = [...intersectedWithYou];\n          let intersected = [...intersectedWithYou];\n          while (intersected && intersected.length) {\n            const inter = intersected.map(({ offsetTop, id }) => findIntersectedTop(sizes, offsetTop, i)).flat();\n            const exIds = fullIntersected.map(({ id }) => id);\n            intersected = inter.filter(({ id }) => !exIds.includes(id));\n            fullIntersected = fullIntersected.concat(intersected);\n          }\n\n          let newSizes = fullIntersected.map((item) => {\n            const oldWidth = item.width;\n            const newWidth = Math.floor(100 / (Math.floor(100 / parseInt(oldWidth)) + 1));\n            const oldPos = parseInt(item.offsetLeft) / parseInt(oldWidth);\n            const newLeft = oldPos * newWidth;\n            return {\n              ...item,\n              offsetLeft: `${newLeft}%`,\n              width: `${newWidth}%`,\n            };\n          });\n\n          const stylesForMe = newSizes.reduce((res, curr) => {\n            if (parseInt(curr.offsetLeft) >= (res?.offsetLeft ? parseInt(res.offsetLeft) : 0)) {\n              res = {\n                offsetLeft: `${parseInt(curr.offsetLeft) + parseInt(curr.width)}%`,\n                width: curr.width,\n              };\n            }\n            return res;\n          }, {});\n          newSizes = [...newSizes, { ...size, ...stylesForMe }];\n          sizes = sizes.map((size) => {\n            const replacedSize = newSizes.find((item) => {\n              return item.id === size.id;\n            });\n            return replacedSize || size;\n          });\n        }\n      }\n    }\n  });\n  return sizes;\n};\n\nexport const getComponentsSizes = (components: CalendarEvent[], start: number, scaleCoeff = 1, isAsc: boolean, height: number) => {\n  const sizesWithTop = components.map(({ startAt: startDate, endAt: endDate, summary, id }) => {\n    const dayZeros = {\n      hour: 0,\n      minute: 0,\n      second: 0,\n      millisecond: 0,\n    };\n\n    const calendarStart = DateTime.local().plus({ month: start }).startOf('month').set(dayZeros);\n    const startAt = startDate ? DateTime.fromISO(startDate).startOf('month').set(dayZeros) : calendarStart;\n    const endAt = endDate ? DateTime.fromISO(endDate).endOf('month').set(dayZeros) : calendarStart.endOf('month').set(dayZeros);\n\n    const offset = Math.round(startAt.diff(calendarStart, 'day').days * scaleCoeff);\n    const eventHeight = Math.round(endAt.diff(startAt, 'day').days * scaleCoeff);\n    return {\n      offsetTop: isAsc ? offset + 1 : height - offset - eventHeight - 1,\n      height: eventHeight,\n      offsetLeft: '0',\n      width: '100%',\n      endAt,\n      startAt,\n      summary: `${startAt.year}: ${startAt.monthShort} - ${endAt.year}: ${endAt.monthShort}  ${summary}`,\n      id,\n    };\n  });\n  return getLeftAndHeight(sizesWithTop);\n};\n\nexport const getDateFromPosition = (value: number, store): DateTime => {\n  const day = DateTime.local().plus({ month: store.startStep }).startOf('month');\n  const delta = store.isAsc ? value : store.height / store.scaleCoeff - value;\n  console.log(day.toISO(), delta, day.plus({ day: delta }).toISO());\n  return day.plus({ day: delta }).set({\n    hour: 0,\n    minute: 0,\n    second: 0,\n    millisecond: 0,\n  });\n};\n","import { Context } from '../context/store';\nimport { useContext, useEffect } from 'react';\nimport { CALENDAR_OFFSET_LEFT } from '../common/constants';\nimport React from 'react';\n\nconst DimensionsLayoutLayer = (props: { children: any }) => {\n  const [store, dispatch] = useContext(Context);\n  const setContext = (type: string, payload) => {\n    dispatch({ type, payload });\n  };\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__root');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      setContext('width', entryRect.width - CALENDAR_OFFSET_LEFT);\n    });\n\n    resizeObserver.observe(el);\n  }, [document?.querySelector('.Kalend__Calendar__root')]);\n\n  useEffect(() => {\n    const el = document?.querySelector('.Kalend__Calendar__root');\n\n    if (!el) {\n      return;\n    }\n    const resizeObserver = new ResizeObserver((entries) => {\n      const entryRect = entries[0].contentRect;\n\n      const width = entryRect.width;\n\n      setContext('width', entryRect.width - CALENDAR_OFFSET_LEFT);\n    });\n\n    resizeObserver.observe(el);\n  }, []);\n\n  return props.children;\n};\n\nexport default DimensionsLayoutLayer;\n"],"names":[],"version":3,"file":"main.js.map"}